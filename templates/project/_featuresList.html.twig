<a class="btn btn-sm btn-primary float-right " href="{{ path('project_feature_add', {'id':project.id}) }}">
    <i class="fas fa-plus-circle"></i>
</a>
<table class="table table-striped table-hover feature-list">
    <thead>
    <tr>
        <th scope="col">Nom de la fonctionnalité</th>
        <th class="text-center" scope="col">Catégorie de la fonctionnalité</th>
        <th class="text-center" scope="col">Charge estimée</th>
        <th class="text-center" scope="col"></th>
    </tr>
    </thead>
    <tbody>

    {{ form_start(form.projectFeatures) }}

    {% for projectFeature in form.projectFeatures %}
        <tr>
            <th class="w-50" scope="row">

                <div>
                <a class="collapse-toggler collapsed" data-toggle="collapse" href="#collapseDescription{{ loop.index }}" aria-expanded="false" aria-controls="collapseDescription{{ loop.index }}">
                    {{ projectFeature.vars.data.feature.name }}
                </a></div>
                <div class="collapse" id="collapseDescription{{ loop.index }}">
                    <div class="mt-3 description small" colspan="3">
                        {{ form_widget(projectFeature.description,{'attr': {'rows': '3'}}) }}
                        {{ form_errors(projectFeature.description) }}
                    </div>
                </div>

                {{ form_widget(projectFeature.feature, {'attr': {'class': 'hidden-field'}}) }}
                {{ form_errors(projectFeature.feature) }}
            </th>

            <td class="text-center">
                {{ form_widget(projectFeature.category) }}
                {{ form_errors(projectFeature.category) }}
            </td>

            <td class="text-center input-align">
                {{ form_widget(projectFeature.day) }} j*h
                {{ form_errors(projectFeature.day) }}
            </td>

            <td class="text-center">
                <button title="Supprimer la fonctionnalité" class="btn btn-sm btn-primary" type="submit" formmethod="post" formaction="{{ path('project_feature_delete', {'id': projectFeature.vars.data.id}) }}">
                    <i class="fas fa-trash-alt"></i>
                </button>
            </td>
        </tr>
    {% else %}
        <td>Pas de fonctionnalités enregistrées !</td>
    {% endfor %}

    </tbody>
</table>
